<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:p="http://primefaces.org/ui"
>
  <ui:composition>
    <h:panelGroup id="video" rendered="#{careerView.occupation.hasVideoFlag}">
      <div class="card shadow-sm mb-4">
        <!-- Video container -->
        <div class="bg-dark" style="height: 400px;">
          <iframe
            src="#{careerView.occupation.videoUrl}"
            title="#{careerView.occupation.title} Career Video"
            allowfullscreen="true"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
            class="w-100 h-100 border-0"
          >
          </iframe>
        </div>
        
        <!-- Content sections -->
        <div class="card-body d-flex gap-4">
          <!-- Interests section -->
          <h:panelGroup rendered="#{careerView.occupation.hasInterestsFlag}" styleClass="flex-grow-1">
            <div class="text-uppercase fw-semibold mb-3 small text-secondary">INTERESTS</div>
            <div class="d-flex flex-wrap gap-2">
              <ui:repeat value="#{careerView.occupation.interests}" var="interest" varStatus="status">
                <h:panelGroup rendered="#{status.index lt 3}">
                  <div class="badge rounded-pill career-video-badge interest-badge" data-bs-toggle="tooltip" data-bs-placement="top" title="#{interest.description}">
                    #{interest.name}
                  </div>
                </h:panelGroup>
              </ui:repeat>
            </div>
          </h:panelGroup>
          
          <!-- Work Values section -->
          <h:panelGroup rendered="#{careerView.occupation.hasWorkValuesFlag}" styleClass="flex-grow-1">
            <div class="text-uppercase fw-semibold mb-3 small text-secondary">WORK VALUES</div>
            <div class="d-flex flex-wrap gap-2">
              <ui:repeat value="#{careerView.occupation.workValues}" var="workValue" varStatus="status">
                <h:panelGroup rendered="#{status.index lt 3}">
                  <div class="badge rounded-pill career-video-badge value-badge" data-bs-toggle="tooltip" data-bs-placement="top" title="#{workValue.description}">
                    #{workValue.name}
                  </div>
                </h:panelGroup>
              </ui:repeat>
            </div>
          </h:panelGroup>
        </div>
      </div>
      
      <!-- Initialize tooltips -->
      <script>
        document.addEventListener('DOMContentLoaded', function() {
          var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
          var tooltipList = tooltipTriggerList.map(function(tooltipTriggerEl) {
            return new bootstrap.Tooltip(tooltipTriggerEl);
          });
        });
      </script>
    </h:panelGroup>
  </ui:composition>
</html>
