<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:p="http://primefaces.org/ui"
>
  <ui:composition>
    <h:panelGroup id="video" rendered="#{careerView.occupation.hasVideoFlag}">
      <div class="card shadow-sm mb-4">
        <!-- Video container -->
        <div class="bg-dark" style="height: 400px;">
          <iframe
            src="#{careerView.occupation.videoUrl}"
            title="#{careerView.occupation.title} Career Video"
            allowfullscreen="true"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
            class="w-100 h-100 border-0"
          >
          </iframe>
        </div>
        
        <!-- Content sections -->
        <div class="card-body">
          <div class="row g-4">
            <!-- Interests section -->
            <h:panelGroup rendered="#{careerView.occupation.hasInterestsFlag}" styleClass="col-md-6">
              <div class="h-100">
                <h4 class="fs-5 fw-semibold mb-3 text-primary">
                  <i class="bi bi-heart-fill me-2"></i>Interests
                </h4>
                <div class="d-flex flex-column gap-3">
                  <ui:repeat value="#{careerView.occupation.interests}" var="interest">
                    <div class="border-start border-primary border-3 ps-3">
                      <h6 class="fw-semibold mb-1 text-dark">#{interest.name}</h6>
                      <h:panelGroup rendered="#{interest.hasDescription and interest.description != null}">
                        <p class="small text-muted mb-0 lh-relaxed">#{interest.description}</p>
                      </h:panelGroup>
                    </div>
                  </ui:repeat>
                </div>
              </div>
            </h:panelGroup>
            
            <!-- Work Values section -->
            <h:panelGroup rendered="#{careerView.occupation.hasWorkValuesFlag}" styleClass="col-md-6">
              <div class="h-100">
                <h4 class="fs-5 fw-semibold mb-3 text-success">
                  <i class="bi bi-star-fill me-2"></i>Work Values
                </h4>
                <div class="d-flex flex-column gap-3">
                  <ui:repeat value="#{careerView.occupation.workValues}" var="workValue">
                    <div class="border-start border-success border-3 ps-3">
                      <h6 class="fw-semibold mb-1 text-dark">#{workValue.name}</h6>
                      <h:panelGroup rendered="#{workValue.hasDescription and workValue.description != null}">
                        <p class="small text-muted mb-0 lh-relaxed">#{workValue.description}</p>
                      </h:panelGroup>
                    </div>
                  </ui:repeat>
                </div>
              </div>
            </h:panelGroup>
          </div>
        </div>
      </div>
    </h:panelGroup>
  </ui:composition>
</html>
