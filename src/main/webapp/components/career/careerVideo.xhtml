<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:p="http://primefaces.org/ui"
>
  <ui:composition>
    <h:panelGroup id="video" rendered="#{careerView.occupation.hasVideoFlag}">
      <div class="video-card mb-4">
        <!-- Video container -->
        <div class="video-container">
          <iframe
            src="#{careerView.occupation.videoUrl}"
            title="#{careerView.occupation.title} Career Video"
            allowfullscreen="true"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
            style="width: 100%; height: 100%; border: none;"
          >
          </iframe>
        </div>
        
        <!-- Content sections -->
        <div class="info-sections">
          <!-- Interests section -->
          <h:panelGroup rendered="#{careerView.occupation.hasInterestsFlag}" styleClass="info-section">
            <div class="section-label">INTERESTS</div>
            <div class="tag-row">
              <ui:repeat value="#{careerView.occupation.interests}" var="interest" varStatus="status">
                <h:panelGroup rendered="#{status.index lt 3}">
                  <div class="career-tag interest-tag" data-bs-toggle="tooltip" data-bs-placement="top" title="#{interest.description}">
                    #{interest.name}
                  </div>
                </h:panelGroup>
              </ui:repeat>
            </div>
          </h:panelGroup>
          
          <!-- Work Values section -->
          <h:panelGroup rendered="#{careerView.occupation.hasWorkValuesFlag}" styleClass="info-section">
            <div class="section-label">WORK VALUES</div>
            <div class="tag-row">
              <ui:repeat value="#{careerView.occupation.workValues}" var="workValue" varStatus="status">
                <h:panelGroup rendered="#{status.index lt 3}">
                  <div class="career-tag value-tag" data-bs-toggle="tooltip" data-bs-placement="top" title="#{workValue.description}">
                    #{workValue.name}
                  </div>
                </h:panelGroup>
              </ui:repeat>
            </div>
          </h:panelGroup>
        </div>
      </div>
      
      <style>
        .video-card {
          background: white;
          border-radius: 8px;
          box-shadow: 0 4px 20px rgba(0,0,0,0.08);
          overflow: hidden;
          display: flex;
          flex-direction: column;
        }
        
        .video-container {
          width: 100%;
          height: 400px;
          background: #000;
        }
        
        .info-sections {
          padding: 24px;
          display: flex;
          gap: 32px;
          background: white;
        }
        
        .info-section {
          flex: 1;
        }
        
        .section-label {
          font-size: 0.85rem;
          font-weight: 600;
          color: #666;
          margin-bottom: 16px;
          letter-spacing: 1px;
        }
        
        .tag-row {
          display: flex;
          flex-wrap: wrap;
          gap: 10px;
        }
        
        .career-tag {
          padding: 8px 16px;
          border-radius: 50px;
          font-size: 0.9rem;
          background: white;
          box-shadow: 0 2px 4px rgba(0,0,0,0.05);
          transition: all 0.2s;
          cursor: help;
          border: 1px solid;
        }
        
        .interest-tag {
          border-color: #3498db;
          color: #3498db;
        }
        
        .value-tag {
          border-color: #e67e22;
          color: #e67e22;
        }
        
        .career-tag:hover {
          transform: translateY(-2px);
          box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        /* Responsive adjustments */
        @media (max-width: 768px) {
          .info-sections {
            flex-direction: column;
            gap: 24px;
          }
          
          .video-container {
            height: 300px;
          }
        }
      </style>
      
      <!-- Initialize tooltips -->
      <script>
        document.addEventListener('DOMContentLoaded', function() {
          var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
          var tooltipList = tooltipTriggerList.map(function(tooltipTriggerEl) {
            return new bootstrap.Tooltip(tooltipTriggerEl);
          });
        });
      </script>
    </h:panelGroup>
  </ui:composition>
</html>
