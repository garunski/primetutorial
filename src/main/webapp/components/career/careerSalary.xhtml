<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui">

<ui:composition>
    <div id="salary" class="card shadow-sm mb-4">
        <div class="card-body">
            <h2 class="fs-2 fw-semibold text-primary mb-3 pb-2 border-bottom">Salary &amp; Job Outlook</h2>

            <h:panelGroup rendered="#{careerView.occupation.hasWageFlag and careerView.occupation.wages != null}">
                
                <!-- Salary Overview Cards -->
                <div class="row g-4 mb-4">
                    <div class="col-md-4">
                        <div class="card bg-success bg-opacity-10 border-success border-2 h-100">
                            <div class="card-body text-center">
                                <i class="bi bi-trophy-fill text-success fs-1 mb-2"></i>
                                <h5 class="card-title text-success fw-bold">Entry Level</h5>
                                <h:panelGroup rendered="#{careerView.occupation.wages.stateWageAnnualPct25EntryAmount != null}">
                                    <h3 class="card-text fw-bold text-dark mb-0">
                                        <h:outputText value="#{careerView.occupation.wages.stateWageAnnualPct25EntryAmount}">
                                            <f:convertNumber type="currency" currencySymbol="$" groupingUsed="true" />
                                        </h:outputText>
                                    </h3>
                                    <h:panelGroup rendered="#{careerView.occupation.wages.state != null}">
                                        <small class="text-success fw-medium">#{careerView.occupation.wages.state}</small>
                                    </h:panelGroup>
                                </h:panelGroup>
                                <h:panelGroup rendered="#{careerView.occupation.wages.stateWageAnnualPct25EntryAmount == null and careerView.occupation.wages.nationalWageAnnualPct25EntryAmount != null}">
                                    <h3 class="card-text fw-bold text-dark mb-0">
                                        <h:outputText value="#{careerView.occupation.wages.nationalWageAnnualPct25EntryAmount}">
                                            <f:convertNumber type="currency" currencySymbol="$" groupingUsed="true" />
                                        </h:outputText>
                                    </h3>
                                    <small class="text-muted">National Average</small>
                                </h:panelGroup>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-md-4">
                        <div class="card bg-primary bg-opacity-10 border-primary border-2 h-100">
                            <div class="card-body text-center">
                                <i class="bi bi-bullseye text-primary fs-1 mb-2"></i>
                                <h5 class="card-title text-primary fw-bold">Median Salary</h5>
                                <h:panelGroup rendered="#{careerView.occupation.wages.stateWageAnnualPct50MedianAmount != null}">
                                    <h3 class="card-text fw-bold text-dark mb-0">
                                        <h:outputText value="#{careerView.occupation.wages.stateWageAnnualPct50MedianAmount}">
                                            <f:convertNumber type="currency" currencySymbol="$" groupingUsed="true" />
                                        </h:outputText>
                                    </h3>
                                    <h:panelGroup rendered="#{careerView.occupation.wages.state != null}">
                                        <small class="text-primary fw-medium">#{careerView.occupation.wages.state}</small>
                                    </h:panelGroup>
                                </h:panelGroup>
                                <h:panelGroup rendered="#{careerView.occupation.wages.stateWageAnnualPct50MedianAmount == null and careerView.occupation.wages.nationalWageAnnualPct50MedianAmount != null}">
                                    <h3 class="card-text fw-bold text-dark mb-0">
                                        <h:outputText value="#{careerView.occupation.wages.nationalWageAnnualPct50MedianAmount}">
                                            <f:convertNumber type="currency" currencySymbol="$" groupingUsed="true" />
                                        </h:outputText>
                                    </h3>
                                    <small class="text-muted">National Average</small>
                                </h:panelGroup>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-md-4">
                        <div class="card bg-warning bg-opacity-10 border-warning border-2 h-100">
                            <div class="card-body text-center">
                                <i class="bi bi-star-fill text-warning fs-1 mb-2"></i>
                                <h5 class="card-title text-warning fw-bold">Experienced</h5>
                                <h:panelGroup rendered="#{careerView.occupation.wages.stateWageAnnualPct75ExperAmount != null}">
                                    <h3 class="card-text fw-bold text-dark mb-0">
                                        <h:outputText value="#{careerView.occupation.wages.stateWageAnnualPct75ExperAmount}">
                                            <f:convertNumber type="currency" currencySymbol="$" groupingUsed="true" />
                                        </h:outputText>
                                    </h3>
                                    <h:panelGroup rendered="#{careerView.occupation.wages.state != null}">
                                        <small class="text-warning fw-medium">#{careerView.occupation.wages.state}</small>
                                    </h:panelGroup>
                                </h:panelGroup>
                                <h:panelGroup rendered="#{careerView.occupation.wages.stateWageAnnualPct75ExperAmount == null and careerView.occupation.wages.nationalWageAnnualPct75ExperAmount != null}">
                                    <h3 class="card-text fw-bold text-dark mb-0">
                                        <h:outputText value="#{careerView.occupation.wages.nationalWageAnnualPct75ExperAmount}">
                                            <f:convertNumber type="currency" currencySymbol="$" groupingUsed="true" />
                                        </h:outputText>
                                    </h3>
                                    <small class="text-muted">National Average</small>
                                </h:panelGroup>
                            </div>
                        </div>
                    </div>
                </div>





                <!-- National Comparison -->
                <h:panelGroup rendered="#{careerView.occupation.wages.nationalWageAnnualPct25EntryAmount != null or careerView.occupation.wages.nationalWageAnnualPct50MedianAmount != null or careerView.occupation.wages.nationalWageAnnualPct75ExperAmount != null}">
                    <div class="bg-light rounded p-3 mb-4">
                        <h6 class="fw-semibold text-muted mb-3">
                            <i class="bi bi-flag me-2"></i>National Average for Comparison
                        </h6>
                        <div class="row g-3 text-center">
                            <h:panelGroup rendered="#{careerView.occupation.wages.nationalWageAnnualPct25EntryAmount != null}">
                                <div class="col-md-4">
                                    <div class="text-muted small fw-medium mb-1">Entry Level</div>
                                    <div class="fw-bold">
                                        <h:outputText value="#{careerView.occupation.wages.nationalWageAnnualPct25EntryAmount}">
                                            <f:convertNumber type="currency" currencySymbol="$" groupingUsed="true" />
                                        </h:outputText>
                                    </div>
                                </div>
                            </h:panelGroup>
                            <h:panelGroup rendered="#{careerView.occupation.wages.nationalWageAnnualPct50MedianAmount != null}">
                                <div class="col-md-4">
                                    <div class="text-muted small fw-medium mb-1">Median</div>
                                    <div class="fw-bold">
                                        <h:outputText value="#{careerView.occupation.wages.nationalWageAnnualPct50MedianAmount}">
                                            <f:convertNumber type="currency" currencySymbol="$" groupingUsed="true" />
                                        </h:outputText>
                                    </div>
                                </div>
                            </h:panelGroup>
                            <h:panelGroup rendered="#{careerView.occupation.wages.nationalWageAnnualPct75ExperAmount != null}">
                                <div class="col-md-4">
                                    <div class="text-muted small fw-medium mb-1">Experienced</div>
                                    <div class="fw-bold">
                                        <h:outputText value="#{careerView.occupation.wages.nationalWageAnnualPct75ExperAmount}">
                                            <f:convertNumber type="currency" currencySymbol="$" groupingUsed="true" />
                                        </h:outputText>
                                    </div>
                                </div>
                            </h:panelGroup>
                        </div>
                    </div>
                </h:panelGroup>

                <!-- Job Outlook Section -->
                <div class="border-start border-primary border-4 ps-4 mb-4">
                    <h4 class="fw-semibold mb-3 d-flex align-items-center">
                        <i class="bi bi-trending-up text-primary me-2"></i>
                        Job Market Outlook
                    </h4>
                    
                    <h:panelGroup rendered="#{careerView.occupation.wages.stateOnetEmpProspectDesc != null}">
                        <div class="mb-3">
                            <span class="text-muted">Employment prospects in #{careerView.occupation.wages.state}:</span>
                            <h:panelGroup rendered="#{careerView.occupation.wages.stateOnetEmpProspectDesc == 'Very Favorable'}">
                                <span class="badge bg-success ms-2 fs-6">#{careerView.occupation.wages.stateOnetEmpProspectDesc}</span>
                            </h:panelGroup>
                            <h:panelGroup rendered="#{careerView.occupation.wages.stateOnetEmpProspectDesc == 'Favorable'}">
                                <span class="badge bg-primary ms-2 fs-6">#{careerView.occupation.wages.stateOnetEmpProspectDesc}</span>
                            </h:panelGroup>
                            <h:panelGroup rendered="#{careerView.occupation.wages.stateOnetEmpProspectDesc != 'Very Favorable' and careerView.occupation.wages.stateOnetEmpProspectDesc != 'Favorable'}">
                                <span class="badge bg-secondary ms-2 fs-6">#{careerView.occupation.wages.stateOnetEmpProspectDesc}</span>
                            </h:panelGroup>
                        </div>
                    </h:panelGroup>
                    
                    <div class="row g-3">
                        <h:panelGroup rendered="#{careerView.occupation.wages.stateEmplBaseAmount != null and careerView.occupation.wages.commonEmplBaseYear != null}">
                            <div class="col-md-6">
                                <div class="bg-white rounded border p-3">
                                    <div class="d-flex align-items-center mb-2">
                                        <i class="bi bi-people text-primary me-2"></i>
                                        <h6 class="mb-0 fw-semibold">Current Employment (#{careerView.occupation.wages.commonEmplBaseYear})</h6>
                                    </div>
                                    <h4 class="mb-0 text-primary fw-bold">
                                        <h:outputText value="#{careerView.occupation.wages.stateEmplBaseAmount}">
                                            <f:convertNumber pattern="#,###" />
                                        </h:outputText>
                                    </h4>
                                    <small class="text-muted">professionals in #{careerView.occupation.wages.state}</small>
                                </div>
                            </div>
                        </h:panelGroup>
                        
                        <h:panelGroup rendered="#{careerView.occupation.wages.stateEmplProjAmount != null and careerView.occupation.wages.commonEmplProjYear != null}">
                            <div class="col-md-6">
                                <div class="bg-white rounded border p-3">
                                    <div class="d-flex align-items-center mb-2">
                                        <i class="bi bi-graph-up text-success me-2"></i>
                                        <h6 class="mb-0 fw-semibold">Projected Growth (#{careerView.occupation.wages.commonEmplProjYear})</h6>
                                    </div>
                                    <h4 class="mb-0 text-success fw-bold">
                                        <h:outputText value="#{careerView.occupation.wages.stateEmplProjAmount}">
                                            <f:convertNumber pattern="#,###" />
                                        </h:outputText>
                                    </h4>
                                    <h:panelGroup rendered="#{careerView.occupation.wages.stateAnnualOpeningsGrowthAmount != null}">
                                        <small class="text-muted">+<h:outputText value="#{careerView.occupation.wages.stateAnnualOpeningsGrowthAmount}">
                                            <f:convertNumber pattern="#,###" />
                                        </h:outputText> jobs/year</small>
                                    </h:panelGroup>
                                </div>
                            </div>
                        </h:panelGroup>
                        
                        <h:panelGroup rendered="#{careerView.occupation.wages.stateAnnualOpeningsTotalAmount != null}">
                            <div class="col-md-6">
                                <div class="bg-white rounded border p-3">
                                    <div class="d-flex align-items-center mb-2">
                                        <i class="bi bi-briefcase text-info me-2"></i>
                                        <h6 class="mb-0 fw-semibold">Annual Job Openings</h6>
                                    </div>
                                    <h4 class="mb-0 text-info fw-bold">
                                        <h:outputText value="#{careerView.occupation.wages.stateAnnualOpeningsTotalAmount}">
                                            <f:convertNumber pattern="#,###" />
                                        </h:outputText>
                                    </h4>
                                    <small class="text-muted">new opportunities yearly</small>
                                </div>
                            </div>
                        </h:panelGroup>
                        
                        <h:panelGroup rendered="#{careerView.occupation.wages.stateEmplChangePercent != null}">
                            <div class="col-md-6">
                                <div class="bg-white rounded border p-3">
                                    <div class="d-flex align-items-center mb-2">
                                        <i class="bi bi-arrow-up-circle text-warning me-2"></i>
                                        <h6 class="mb-0 fw-semibold">Growth Rate</h6>
                                    </div>
                                    <h4 class="mb-0 text-warning fw-bold">
                                        <h:outputText value="#{careerView.occupation.wages.stateEmplChangePercent}">
                                            <f:convertNumber pattern="#0.0" />
                                        </h:outputText>%
                                    </h4>
                                    <small class="text-muted">projected increase</small>
                                </div>
                            </div>
                        </h:panelGroup>
                    </div>
                </div>

                <!-- Important Note -->
                <div class="bg-light rounded p-3 border-start border-secondary border-3">
                    <small class="text-muted">
                        <i class="bi bi-info-circle me-1"></i>
                        <strong>Note:</strong> Wages are calculated from average hourly rates for full-time work over one year. 
                        Actual salaries may vary based on location, experience, and work schedules.
                    </small>
                </div>
            </h:panelGroup>
            
            <h:panelGroup rendered="#{!careerView.occupation.hasWageFlag or careerView.occupation.wages == null}">
                <div class="text-center py-5">
                    <i class="bi bi-exclamation-triangle text-muted fs-1 mb-3"></i>
                    <h5 class="text-muted">Salary &amp; Job Outlook Data Unavailable</h5>
                    <p class="text-muted">Complete salary and employment information is not available for this occupation at this time.</p>
                </div>
            </h:panelGroup>
        </div>
    </div>
</ui:composition>
</html>
